(()=>{"use strict";class e{constructor(e,t,o){this.id=e,this.title=t,this.body=o}}const t=new class{getNotesFromLocalStorage(){const e=localStorage.getItem("notes");return null===e?[]:JSON.parse(e)}saveNoteToLocalStorage(e){const t=this.getNotesFromLocalStorage();return t.push(e),localStorage.setItem("notes",JSON.stringify(t)),t}clearNotesFromLocalStorage(){localStorage.removeItem("notes")}},o=new class{constructor(){this.UISelectors={container:".container",homeState:"#home-state",noteTitleInput:"#note-title-input"}}updateNotesUI(e){const t=document.querySelector(this.UISelectors.homeState);t.innerHTML="",e.forEach((e=>{t.innerHTML+=`\n      <div class='note'>\n      <h3>${e.title}</h3>\n      <p>${e.body}</p>\n      <span> _${e.id}</span>\n      </div>\n      `})),document.querySelector(this.UISelectors.container).appendChild(t)}getInputValues(){return{title:document.querySelector(this.UISelectors.noteTitleInput).value}}clearInput(){document.querySelector(this.UISelectors.noteTitleInput).value=""}},r=new class{constructor(){this.observers=[]}subscribe(e,t){const o={event:e,func:t};this.observers.push(o)}unsubscribe(e,t){this.observers.forEach(((o,r)=>{o.event===e&&o.func===t&&this.observers.splice(r,1)}))}fire(e,t){this.observers.forEach((o=>{o.event===e&&(null!==t?o.func(t):o.func())}))}};function n(e){console.log("Updating notes..."),void 0!==e&&console.log(e);const r=t.getNotesFromLocalStorage();o.updateNotesUI(r)}r.subscribe("note-created",n),r.subscribe("notes-cleared",n),document.querySelector("#clear").addEventListener("click",(function(){t.clearNotesFromLocalStorage(),r.fire("notes-cleared","test")})),document.querySelector("#add").addEventListener("click",(function(){console.log("Creating notes...");const n=t.getNotesFromLocalStorage(),s=o.getInputValues(),c=new e(n.length,""!==s.title?s.title:`Note #${n.length+1}`,`Body ${n.length+1}`);t.saveNoteToLocalStorage(c),r.fire("note-created"),o.clearInput()})),n(),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/Note-App/service-worker.js")}))})();